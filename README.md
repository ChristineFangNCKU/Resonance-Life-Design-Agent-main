# ((o)) Resonance: AI-Powered Life Design Agent

> **TOC 2025 Final Project**
>
> Moving beyond keyword matching to understand the *psychological intent* behind human potential.

![Resonance Banner](https://img.shields.io/badge/AI%20Agent-Life%20Design-7000ff?style=for-the-badge) ![Python](https://img.shields.io/badge/Python-3.10%2B-blue?style=for-the-badge) ![LLM](https://img.shields.io/badge/Model-Gemma--3-orange?style=for-the-badge)

---

## ğŸ“– å°ˆæ¡ˆç°¡ä»‹ (Introduction)

**Resonance** ä¸åƒ…åƒ…æ˜¯ä¸€å€‹é…å°å·¥å…·ï¼Œå®ƒæ˜¯åŸºæ–¼å¤§å‹èªè¨€æ¨¡å‹ (LLM) çš„**å¿ƒç†åˆ†æä»£ç†äºº (Psychological Profiler Agent)**ã€‚

å‚³çµ±çš„é…å°ç³»çµ±ä¾è³´è¡¨é¢çš„é—œéµå­—å°æ‡‰ï¼ˆä¾‹å¦‚ï¼šä½¿ç”¨è€…èªª "Python" $\to$ é…å° "å·¥ç¨‹å¸«"ï¼‰ã€‚Resonance å‰‡é€éå…ˆé€²çš„ Prompt Engineering æŠ€è¡“â€”â€”åŒ…å« **æ€ç¶­éˆ (Chain of Thought)**ã€**æƒ…ç·’éæ¿¾ (Sentiment Filtering)** èˆ‡ **ç‰¹è³ªé‡æ§‹ (Reframing)**â€”â€”æ·±å…¥è§£è®€ä½¿ç”¨è€…å›ç­”èƒŒå¾Œçš„ã€Œæ„åœ–ã€ï¼Œè­˜åˆ¥å…¶å…§åœ¨å¤©è³¦ã€æ ¸å¿ƒåƒ¹å€¼èˆ‡æ·±å±¤å‹•æ©Ÿã€‚

ç³»çµ±æœ€çµ‚æœƒå°‡ä½¿ç”¨è€…èˆ‡è³‡æ–™åº«ä¸­çš„åŸå‹äººç‰©é€²è¡Œå…±æŒ¯é…å°ï¼Œä¸¦é€é Python å‹•æ…‹ç”Ÿæˆä¸€ä»½äº’å‹•å¼çš„ã€Œéˆé­‚å…‰è­œ (Resonance Spectrum)ã€ç¶²é å ±å‘Šã€‚

## ğŸ§  æ ¸å¿ƒå‰µæ–°ï¼šå¿ƒç†å­¸åˆ†ææ¡†æ¶ (Psychological Framework)

æœ¬ç³»çµ±çš„ç‹€æ…‹æ©Ÿ (FSM) è¨­è¨ˆåœç¹è‘—ä¸€å¥—ç‰¹å®šçš„å¿ƒç†å­¸è¨ªè«‡é‚è¼¯ã€‚æˆ‘å€‘ä¸å•ä½ ã€Œæœƒåšä»€éº¼ã€ï¼Œè€Œæ˜¯å•ä½ ã€Œå¦‚ä½•å›æ‡‰ä¸–ç•Œã€ã€‚

| è¨ªè«‡éšæ®µ (FSM State) | æå•ç­–ç•¥ (Question Strategy) | èƒŒå¾Œçš„å¿ƒç†å­¸æ´å¯Ÿ (LLM Task) |
| :--- | :--- | :--- |
| **Stage 1: Values** | "ä½ å´‡æ‹œèª°ï¼Ÿç‚ºä»€éº¼ï¼Ÿ" | **ä¸å¯å¦¥å”çš„åŸå‰‡ (Internal Compass):** é€éå´‡æ‹œå°è±¡æŠ•å°„å‡ºä½¿ç”¨è€…çš„äººç”Ÿæ¨™æº–ã€‚ |
| **Stage 2: Talents** | "ä½ å°ä»€éº¼æ„Ÿåˆ°ä¸è€ç…©ï¼Ÿ" | **å¤©è³¦çš„é¡åƒ (Mirroring):** å°ä»–äººçš„ä¸è€ç…©ï¼Œå¾€å¾€åæ˜ äº†ä½¿ç”¨è€…è‡ªèº«æ¯«ä¸è²»åŠ›çš„å¤©è³¦ (e.g., è¨å­æ··äº‚ = çµæ§‹åŒ–æ€ç¶­)ã€‚ |
| **Stage 3: Dreams** | "ä»€éº¼ç¤¾æœƒå•é¡Œè®“ä½ æ†¤æ€’ï¼Ÿ" | **å…§åœ¨é©…å‹•åŠ› (Constructive Anger):** å€åˆ†ã€Œå­æƒ¡ (Aversion)ã€èˆ‡ã€Œæƒ³æ”¹è®Šçš„å‹•åŠ› (Drive)ã€ã€‚ |

## âœ¨ é—œéµæŠ€è¡“ç‰¹é» (Key Features)

* **ğŸ§  æ·±åº¦æ„åœ–åˆ†æ (Chain of Thought):** ç³»çµ±ä¸æœƒåªè¼¸å‡ºæ¨™ç±¤ã€‚å®ƒå¼·åˆ¶ LLM å…ˆé€²è¡Œ `reasoning` æ¨ç†ï¼Œè§£é‡‹å¦‚ä½•å¾æ¨¡ç³Šçš„å£èªä¸­æ¨å°å‡ºå¿ƒç†ç‰¹è³ªã€‚
* **ğŸ”„ ç‰¹è³ªé‡æ§‹æ©Ÿåˆ¶ (Reframing Logic):** è‡ªå‹•å°‡çœ‹ä¼¼è² é¢çš„ç‰¹è³ªè½‰åŒ–ç‚ºæ­£å‘å„ªå‹¢ï¼ˆä¾‹å¦‚ï¼šå°‡ã€Œå·æ‡¶/ç„¡ç‚ºã€é‡æ§‹ç‚ºã€Œç­–ç•¥æ€§æ•ˆç‡ã€ï¼‰ã€‚
* **ğŸ›¡ï¸ å»ºè¨­æ€§æ†¤æ€’éæ¿¾å™¨ (Anger Filter):** æ™ºæ…§åˆ†è¾¨ä½¿ç”¨è€…æ˜¯å–®ç´”ã€Œè¨å­ã€æŸäº‹ï¼ˆæ’é™¤ï¼‰ï¼Œé‚„æ˜¯å°æŸäº‹æ„Ÿåˆ°æ†¤æ€’ä¸¦ã€Œæƒ³æ”¹è®Šå®ƒã€ï¼ˆç´å…¥å¤¢æƒ³ï¼‰ã€‚
* **ğŸŒ± è‡ªé©æ‡‰çŸ¥è­˜åº« (Self-Learning Knowledge Base):** ç³»çµ±å…§å»ºå¿ƒç†å­¸æœ¬é«”è«–ï¼Œä¸¦èƒ½éš¨è‘—å°è©±å‹•æ…‹å­¸ç¿’æ–°æ¦‚å¿µ (`knowledge_base.json`)ã€‚
* **ğŸ“Š å»æŠ€èƒ½åŒ–é…å° (De-skilling Matching):** é…å°åŸºç¤æ˜¯ã€ŒèªçŸ¥ç‰¹è³ª (Traits)ã€è€Œéã€Œç¡¬æŠ€èƒ½ (Skills)ã€ï¼Œå¯¦ç¾è·¨é ˜åŸŸçš„éˆé­‚å…±æŒ¯ã€‚
* **ğŸŒ é«˜ä¿çœŸç¶²é è¦–è¦ºåŒ– (High-Fidelity Web Viz):** è‡ªå‹•ç”Ÿæˆäº’å‹•å¼ HTML å ±å‘Šï¼Œä»¥å †ç–Šé•·æ¢åœ–å‘ˆç¾å…±æŒ¯ç´°ç¯€ã€‚

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹ (System Architecture)

æœ¬ç³»çµ±æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œç”±æœ‰é™ç‹€æ…‹æ©Ÿ (FSM) é©…å‹•æ•¸æ“šæµï¼š

```mermaid
%%{init: {'theme': 'neutral', 'themeVariables': { 'primaryColor': '#E1E8F0', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#fff0f0'}}}%%
graph TD
    subgraph UI_Layer ["User Interaction Layer"]
        User((User)) <-->|Terminal I/O| Main[main.py]
    end

    subgraph Agent_Layer ["Agent Core Layer (FSM)"]
        Main -->|Initializes| Agent[agent.py<br/>Finite State Machine]
        Agent -- States: Q_VALUES, Q_TALENTS, Q_DREAMS --> Agent
    end

    subgraph Cognitive_Layer ["Cognitive Layer (Brain)"]
        Agent -->|State: ANALYZING<br/>Sends Context| LLMClient[llm_client.py<br/>Psychological Analyst]
        KB[("data/knowledge_base.json<br/>Traits & Values Ontology")] <-->|Reads / Learns New Concepts| LLMClient
        LLMClient -->|Prompt + CoT| LLM_API(External LLM API<br/>Gemma-3)
        LLM_API -->|JSON Profile + Reasoning| LLMClient
        LLMClient -->|Normalized Profile| Agent
    end

    subgraph Matching_Layer ["Matching Layer (Engine)"]
        Agent -->|State: MATCHING<br/>Sends User Profile| Matcher[matcher.py<br/>Resonance Engine]
        DB[("data/mock_database.json<br/>Candidate Archetypes")] -->|Loads Candidates| Matcher
        Matcher -->|Calculates Weighted Score| Matcher
        Matcher -->|Ranked Matches| Agent
    end

    subgraph Output_Layer ["Presentation Layer (Output)"]
        Agent -->|State: REPORT<br/>Prints Summary| TerminalOutput(Terminal Output)
        Agent -->|Sends Match Data| WebViz[web_visualizer.py<br/>HTML Generator]
        WebViz -->|Generates & Opens| Browser(Web Browser<br/>Interactive Report)
    end

    style Agent fill:#d4e157,stroke:#333,stroke-width:2px
    style LLMClient fill:#4db6ac,stroke:#333,stroke-width:2px
    style Matcher fill:#ffb74d,stroke:#333,stroke-width:2px
    style WebViz fill:#9575cd,stroke:#333,stroke-width:2px
    style KB fill:#cfd8dc,stroke:#333,stroke-dasharray: 5 5
    style DB fill:#cfd8dc,stroke:#333,stroke-dasharray: 5 5
```

## ğŸ“‚ æª”æ¡ˆçµæ§‹ (File Structure)

```text
.
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ knowledge_base.json  # å¿ƒç†ç‰¹è³ªæœ¬é«”è«– (å…·å‚™å­¸ç¿’èƒ½åŠ›)
â”‚   â””â”€â”€ mock_database.json   # å·²å»æŠ€èƒ½åŒ–çš„å€™é¸äººåŸå‹è³‡æ–™åº«
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent.py             # FSM ç‹€æ…‹æ©Ÿæ ¸å¿ƒ (State Machine)
â”‚   â”œâ”€â”€ llm_client.py        # LLM ä¸²æ¥èˆ‡ Prompt Engineering (The Brain)
â”‚   â”œâ”€â”€ matcher.py           # å…±æŒ¯åŠ æ¬Šæ¼”ç®—æ³• (The Engine)
â”‚   â”œâ”€â”€ utils.py             # å·¥å…·å‡½å¼èˆ‡ CLI ç¾åŒ–
â”‚   â””â”€â”€ web_visualizer.py    # å‹•æ…‹ç¶²é ç”Ÿæˆå™¨ (HTML Generator)
â”œâ”€â”€ main.py                  # ç¨‹å¼é€²å…¥é»
â”œâ”€â”€ README.md                # èªªæ˜æ–‡ä»¶
â””â”€â”€ requirements.txt         # ç›¸ä¾å¥—ä»¶

```

## ğŸš€ å¿«é€Ÿé–‹å§‹ (Quick Start)

### 1. å®‰è£ç’°å¢ƒ

ç¢ºä¿ Python ç‰ˆæœ¬ >= 3.10ã€‚

```bash
# å®‰è£ä¾è³´å¥—ä»¶
pip install -r requirements.txt

```

### 2. åŸ·è¡Œç¨‹å¼ (äº’å‹•æ¨¡å¼)

ä¾ç…§çµ‚ç«¯æ©Ÿçš„å¿ƒç†å­¸å¼•å°ï¼Œå›ç­”ä¸‰å€‹æ ¸å¿ƒå•é¡Œã€‚

```bash
python main.py

```

### 3. åŸ·è¡Œ Demo æ¨¡å¼

è‡ªå‹•è¼‰å…¥é è¨­å›ç­”ï¼Œå±•ç¤ºåˆ†ææµç¨‹ã€‚

```bash
python main.py --demo

```

## ğŸ§ª Demo æ¸¬è©¦åŠ‡æœ¬ï¼šé“å®¶å·¥ç¨‹å¸« (The Taoist Engineer)

è‹¥è¦æ¸¬è©¦ç³»çµ±çš„ã€Œé‡æ§‹èƒ½åŠ› (Reframing)ã€èˆ‡ã€Œå­¸ç¿’èƒ½åŠ› (Learning)ã€ï¼Œè«‹ä¾åºè¼¸å…¥ä»¥ä¸‹å›ç­”ï¼š

1. **Q1 Values:** "æˆ‘å´‡æ‹œè€èŠæ€æƒ³ã€‚æˆ‘èªç‚ºç¾ä»£äººå¤ªåŠªåŠ›äº†ï¼Œå…¶å¯¦ã€Œç„¡ç‚ºã€æ‰æ˜¯æœ€é«˜çš„æ™ºæ…§ï¼Œä¿æŒå…§å¿ƒçš„å¹³è¡¡æ¯”ä»€éº¼éƒ½é‡è¦ã€‚" (æ¸¬è©¦å­¸ç¿’ `Balance`)
2. **Q2 Talents:** "æˆ‘å°é‚£äº›åšç™½å·¥ã€çå¿™çš„äººæ„Ÿåˆ°å¾ˆä¸è€ç…©ã€‚é€™å¯èƒ½è½èµ·ä¾†åƒå·æ‡¶ï¼Œä½†æˆ‘ç¸½èƒ½æ‰¾åˆ°æœ€çœåŠ›çš„æ–¹æ³•ä¾†å®Œæˆå·¥ä½œï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºæµç¨‹å“ªè£¡å†—é¤˜ã€‚" (æ¸¬è©¦é‡æ§‹ `Laziness` -> `Efficiency`)
3. **Q3 Dreams:** "æˆ‘çœ‹å“²å­¸æ›¸ã€‚æˆ‘å°é€™å€‹éåº¦å‹ç´¯(Overworked)çš„ç¤¾æœƒæ„Ÿåˆ°ä¸æ»¿ï¼Œé€™å¤ªæ²’æ•ˆç‡äº†ï¼äººå€‘æ‡‰è©²è¦æŠŠæ™‚é–“èŠ±åœ¨çœŸæ­£é‡è¦çš„äº‹æƒ…ä¸Šï¼Œæˆ‘æƒ³æ”¹è®Šé€™ç¨®çå¿™çš„æ–‡åŒ–ã€‚" (æ¸¬è©¦å»ºè¨­æ€§æ†¤æ€’ -> `Social Impact`)

## ğŸ“ è©•åˆ†æ¼”ç®—æ³• (Scoring Logic)

å…±æŒ¯åˆ†æ•¸ç”±ä»¥ä¸‹å…¬å¼åŠ æ¬Šè¨ˆç®—ï¼š

$$ Resonance Score = (Values \times 10) + (Dreams \times 5) + (Talents \times 3) $$

* **Values (åƒ¹å€¼è§€):** æœ€é«˜æ¬Šé‡ï¼Œä»£è¡¨éˆé­‚çš„åŸºåº•ã€‚
* **Dreams (å¤¢æƒ³):** ä¸­ç­‰æ¬Šé‡ï¼Œä»£è¡¨æ–¹å‘çš„ä¸€è‡´æ€§ã€‚
* **Talents (å¤©è³¦):** è¼”åŠ©æ¬Šé‡ï¼Œå°‹æ‰¾äº’è£œçš„ç‰¹è³ªã€‚
* åªæœ‰ç•¶ã€Œåƒ¹å€¼è§€ã€æˆ–ã€Œå¤¢æƒ³ã€è‡³å°‘æœ‰ä¸€é …å°ä¸Šæ™‚ï¼Œç³»çµ±æ‰æœƒå»æª¢æŸ¥ã€Œå¤©è³¦æ˜¯å¦äº’è£œã€ã€‚

---


